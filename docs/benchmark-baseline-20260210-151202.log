
> dynapm@1.0.12 benchmark /home/gs/opensource_code/DynaPM
> tsx test/benchmark.ts

[34m
🚀 DynaPM 性能测试[0m
[32m✓ 网关未运行，准备测试[0m
[36mℹ 启动 DynaPM 网关...[0m
[32m✓ 网关已启动[0m

[34m============================================================[0m
[34m冷启动性能测试[0m
[34m============================================================[0m
[32m✓ 冷启动成功，总耗时: 189ms[0m
[36m  DynaPM 开销: ~25ms (启动命令 + 端口等待)[0m
[36m  服务启动时间: ~164ms (Node.js 应用)[0m

[34m============================================================[0m
[34m流式代理延迟测试[0m
[34m============================================================[0m
[32m✓ 流式代理延迟测试完成 (10 次请求)[0m
[36m  平均延迟: 11.6ms[0m
[36m  最小延迟: 10ms[0m
[36m  最大延迟: 14ms[0m
[36m  延迟范围: 10ms - 14ms[0m

[34m============================================================[0m
[34m网关吞吐量测试（多服务混合压测）[0m
[34m============================================================[0m
[36mℹ 启动多个测试服务...[0m
[36mℹ 运行网关压测 (3 个服务混合流量，150 总并发)...[0m
[36mℹ 每个服务 50 并发，同时压测 3 个服务
[0m
[32m✓ 网关吞吐量测试完成[0m
[36m
  网关总 QPS: 3962 req/s[0m
[36m  测试服务数: 3[0m
[36m  每服务并发数: 50[0m
[36m  总并发数: 150[0m
[36m  测试时长: 5 秒[0m
[36m
  各服务 QPS 详情:[0m
[36m    - app1.test: 1351.0 req/s[0m
[36m    - app2.test: 1292.0 req/s[0m
[36m    - app3.test: 1319.0 req/s[0m
[36m
  这是网关同时处理 3 个不同服务的真实性能[0m

[34m============================================================[0m
[34m性能测试完成[0m
[34m============================================================[0m
[32m✓ 所有测试已通过，数据已记录在上方[0m

[34m============================================================[0m
[34m清理环境[0m
[34m============================================================[0m
[32m✓ 已清理所有测试进程[0m
